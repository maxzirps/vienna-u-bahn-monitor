!function(){var e={},t={};t=function(e,t){t.forEach((function(t){var a=e.makeCircle(t.x,t.y,5);a.fill="#fff",a.stroke="#000",a.linewidth=1,t.label&&(e.makeText(t.label.text,t.x+t.label.x,t.y+t.label.y).rotation=t.label.rotation)}))};var a,n={};a=JSON.parse('{"U1":"#f00","U2":"#986aae","U3":"#ff9a00","U4":"#008b3b","U6":"#a53505"}'),n=function(e,t,n){for(var r=0;r<t.length-1;r++){var o=e.makeLine(t[r].x,t[r].y,t[r+1].x,t[r+1].y);o.stroke=a[n],o.linewidth=5,o.curved=!0}};var r={};function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t,a){var n=t[0].lines[0].name;t.forEach((function(t){var r=t.locationStop.properties.title,o=t.lines[t.lines.length-1],x=a[n].find((function(e){return e.name===r})),s=x&&function(e,t,a){var n=a.findIndex((function(t){return t.name===e.name}));if(a[0].name.toUpperCase()===t.towards)return a[n-1];if(a[a.length-1].name.toUpperCase()===t.towards)return a[n+1]}(x,o,a[n]);x&&s&&function(e,t,a,n){var r=e.makeCircle(t.x,t.y,3);r.fill="#fff",r.stroke="#000",r.linewidth=1;var o=Math.abs(t.x-a.x)/n*100,x=Math.abs(t.y-a.y)/n*100;!function t(a,n,o,l,x){var s=a.x-o<n.x&&a.x+o>n.x,i=a.y-l<n.y&&a.y+l>n.y;if(!s||!i){var y=s?0:n.x>a.x?o:-o,b=i?0:n.y>a.y?l:-l;a.x+=y,a.y+=b,r.translation.set(a.x,a.y),e.update(),setTimeout((function(){return t(a,n,o,l,x)}),x)}}(l({},t),l({},a),o,x,100)}(e,x,s,5e3)}))}r=function(e,t){Promise.all(Object.keys(t).map((function(e){return fetch("https://apps.static-access.net/ViennaTransport/monitor/?line=".concat(e)).then((function(e){return e.json()})).catch((function(e){return console.error(e.message)}))}))).then((function(a){return a.forEach((function(a){return s(e,a.data.monitors,t)}))}))},e=function(e,a){e.clear(),Object.keys(a).forEach((function(t){return n(e,a[t],t)})),Object.keys(a).forEach((function(n){return t(e,a[n])})),e.update()};var i={};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}i=function(e,t,a){var n={};return Object.keys(e).forEach((function(r){n[r]=[],e[r].forEach((function(e){var o=e.x*t,l=e.y*a;n[r].push(b(b({},e),{},{x:o,y:l}))}))})),n};var u;u=JSON.parse('{"U1":[{"name":"Oberlaa","label":{"x":35,"y":0,"text":"Oberlaa","rotation":0},"x":565,"y":568},{"name":"Neulaa","label":{"x":0,"y":13,"text":"Neulaa","rotation":0},"x":536,"y":568},{"name":"Alaudagasse","label":{"x":50,"y":-2,"text":"Alaudagasse","rotation":0},"x":515,"y":549},{"name":"Altes Landgut","label":{"x":55,"y":-3,"text":"Altes Landgut","rotation":0},"x":497,"y":529},{"name":"Troststraße","label":{"x":47,"y":0,"text":"Troststrasse","rotation":0},"x":497,"y":500},{"name":"Reumannplatz","label":{"x":55,"y":0,"text":"Reumannplatz","rotation":0},"x":497,"y":471},{"name":"Keplerplatz","label":{"x":45,"y":0,"text":"Keplerplatz","rotation":0},"x":497,"y":442},{"name":"Südtiroler Platz","label":{"x":55,"y":0,"text":"Hauptbahnhof","rotation":0},"x":497,"y":413},{"name":"Taubstummengasse","label":{"x":73,"y":0,"text":"Taubstummengasse","rotation":0},"x":497,"y":384},{"name":"Karlsplatz","x":497,"y":355},{"name":"Stephansplatz","label":{"x":50,"y":13,"text":"Stephansplatz","rotation":0},"x":497,"y":278},{"name":"Schwedenplatz","label":{"x":60,"y":3,"text":"Schwedenplatz","rotation":0},"x":533,"y":223},{"name":"Nestroyplatz","label":{"x":50,"y":3,"text":"Nestroyplatz","rotation":0},"x":551,"y":206},{"name":"Praterstern","x":572,"y":185},{"name":"Vorgartenstraße","label":{"x":65,"y":0,"text":"Vorgartenstrasse","rotation":0},"x":594,"y":163},{"name":"Donauinsel","label":{"x":50,"y":0,"text":"Donauinsel","rotation":0},"x":613,"y":143},{"name":"Kaisermühlen, V.I.C.","label":{"x":55,"y":0,"text":"Kaisermühlen","rotation":0},"x":634,"y":124},{"name":"Alte Donau","label":{"x":50,"y":0,"text":"Alte Donau","rotation":0},"x":652,"y":106},{"name":"Kagran","label":{"x":40,"y":0,"text":"Kagran","rotation":0},"x":669,"y":88},{"name":"Kagraner Platz","label":{"x":60,"y":3,"text":"Kagraner Platz","rotation":0},"x":687,"y":70},{"name":"Rennbahnweg","label":{"x":59,"y":3,"text":"Rennbahnweg","rotation":0},"x":702,"y":55},{"name":"Aderklaaer Straße","label":{"x":70,"y":3,"text":"Aderklaaer Strasse","rotation":0},"x":717,"y":39},{"name":"Großfeldsiedlung","label":{"x":68,"y":3,"text":"Grossfeldsiedlung","rotation":0},"x":733,"y":24},{"name":"Leopoldau","label":{"x":43,"y":0,"text":"Leopoldau","rotation":0},"x":751,"y":6}],"U2":[{"name":"Seestadt","label":{"x":5,"y":10,"text":"Seestadt","rotation":0},"x":901,"y":169},{"name":"Aspern Nord","label":{"x":30,"y":-40,"text":"Aspern Nord","rotation":5.5},"x":886,"y":150},{"name":"Hausfeldstraße","label":{"x":38,"y":-53,"text":"Hausfeldstrasse","rotation":5.5},"x":855,"y":150},{"name":"Aspernstraße","label":{"x":0,"y":12,"text":"Aspernstrasse","rotation":0},"x":836,"y":177},{"name":"Donauspital","label":{"x":25,"y":-38,"text":"Donauspital","rotation":5.5},"x":800,"y":177},{"name":"Hardeggasse","label":{"x":0,"y":-15,"text":"Hardeggasse","rotation":0},"x":758,"y":177},{"name":"Stadlau","label":{"x":35,"y":3,"text":"Stadlau","rotation":0},"x":740,"y":199},{"name":"Donaustadtbrücke","label":{"x":70,"y":3,"text":"Donaustadtbrücke","rotation":0},"x":729,"y":220},{"name":"Donaumarina","label":{"x":55,"y":3,"text":"Donaumarina","rotation":0},"x":714,"y":243},{"name":"Stadion","label":{"x":30,"y":-8,"text":"Stadion","rotation":0},"x":673,"y":229},{"name":"Krieau","label":{"x":30,"y":-8,"text":"Krieau","rotation":0},"x":650,"y":209},{"name":"Messe","label":{"x":50,"y":-3,"text":"Messe-Prater","rotation":0},"x":620,"y":184},{"name":"Praterstern","label":{"x":45,"y":12,"text":"Praterstern","rotation":0},"x":570,"y":185},{"name":"Taborstraße","label":{"x":0,"y":-15,"text":"Taborstrasse","rotation":0},"x":534,"y":185},{"name":"Schottenring","label":{"x":-55,"y":0,"text":"Schottenring","rotation":0},"x":494,"y":185},{"name":"Schottentor","label":{"x":-50,"y":0,"text":"Schottentor","rotation":0},"x":460,"y":217},{"name":"Rathaus","label":{"x":-35,"y":0,"text":"Rathaus","rotation":0},"x":435,"y":244},{"name":"Volkstheater","x":434,"y":278},{"name":"Museumsquartier","label":{"x":60,"y":-10,"text":"Museumsquartier","rotation":0},"x":434,"y":317},{"name":"Karlsplatz","label":{"x":5,"y":10,"text":"karlsplatz","rotation":0},"x":497,"y":355}],"U3":[{"name":"Ottakring","label":{"x":25,"y":-30,"text":"Ottakring","rotation":5.5},"x":125,"y":195},{"name":"Kendlerstraße","label":{"x":38,"y":-45,"text":"Kendlerstrasse","rotation":5.5},"x":153,"y":209},{"name":"Hütteldorfer Straße","label":{"x":48,"y":-55,"text":"Hütteldorferstrasse","rotation":5.5},"x":182,"y":223},{"name":"Johnstraße","label":{"x":35,"y":-35,"text":"Johnstrasse","rotation":5.5},"x":209,"y":237},{"name":"Schweglerstraße","label":{"x":48,"y":-50,"text":"Schweglerstrasse","rotation":5.5},"x":241,"y":252},{"name":"Westbahnhof","x":292,"y":278},{"name":"Zieglergasse","label":{"x":0,"y":12,"text":"Zieglergasse","rotation":0},"x":343,"y":278},{"name":"Neubaugasse","label":{"x":0,"y":12,"text":"Neubaugasse","rotation":0},"x":386,"y":278},{"name":"Volkstheater","label":{"x":35,"y":-35,"text":"Volkstheater","rotation":5.5},"x":434,"y":278},{"name":"Herrengasse","label":{"x":35,"y":-35,"text":"Herrengasse","rotation":5.5},"x":463,"y":278},{"name":"Stephansplatz","x":495,"y":278},{"name":"Stubentor","label":{"x":0,"y":-12,"text":"Stubentor","rotation":0},"x":525,"y":278},{"name":"Landstraße","x":564,"y":280},{"name":"Rochusgasse","label":{"x":50,"y":-3,"text":"Rochusgasse","rotation":0},"x":592,"y":299},{"name":"Kardinal-Nagl-Platz","label":{"x":70,"y":-3,"text":"Kardinal-Nagl-Platz","rotation":0},"x":618,"y":317},{"name":"Schlachthausgasse","label":{"x":70,"y":-3,"text":"Schlachthausgasse","rotation":0},"x":642,"y":335},{"name":"Erdberg","label":{"x":40,"y":-3,"text":"Erdberg","rotation":0},"x":673,"y":355},{"name":"Gasometer","label":{"x":50,"y":-3,"text":"Gasometer","rotation":0},"x":699,"y":374},{"name":"Zippererstraße","label":{"x":60,"y":-5,"text":"Zippererstrasse","rotation":0},"x":729,"y":396},{"name":"Enkplatz","label":{"x":40,"y":-3,"text":"Enkplatz","rotation":0},"x":757,"y":414},{"name":"Simmering","label":{"x":45,"y":-3,"text":"Simmering","rotation":0},"x":784,"y":434}],"U4":[{"name":"Hütteldorf","label":{"x":20,"y":-35,"text":"Hütteldorf","rotation":5.5},"x":6,"y":365},{"name":"Ober St. Veit","label":{"x":25,"y":-40,"text":"Ober St. Veit","rotation":5.5},"x":46,"y":365},{"name":"Unter St. Veit","label":{"x":25,"y":-40,"text":"Unter St. Veit","rotation":5.5},"x":86,"y":365},{"name":"Braunschweiggasse","label":{"x":40,"y":-55,"text":"Braunschweiggasse","rotation":5.5},"x":126,"y":365},{"name":"Hietzing","label":{"x":20,"y":-35,"text":"Hietzing","rotation":5.5},"x":166,"y":365},{"name":"Schönbrunn","label":{"x":30,"y":-40,"text":"Schönbrunn","rotation":5.5},"x":206,"y":365},{"name":"Meidling Hauptstraße","label":{"x":50,"y":-65,"text":"Meidling Hauptstrasse","rotation":5.5},"x":246,"y":365},{"name":"Längenfeldgasse","x":295,"y":365},{"name":"Margaretengürtel","label":{"x":35,"y":-50,"text":"Margaretengürtel","rotation":5.5},"x":340,"y":365},{"name":"Pilgramgasse","label":{"x":30,"y":-45,"text":"Pilgramgasse","rotation":5.5},"x":380,"y":365},{"name":"Kettenbrückengasse","label":{"x":0,"y":15,"text":"Kettenbrückengasse","rotation":0},"x":420,"y":365},{"name":"Karlsplatz","x":460,"y":365},{"name":"Stadtpark","label":{"x":40,"y":0,"text":"Stadtpark","rotation":0},"x":550,"y":330},{"name":"Landstraße","label":{"x":47,"y":0,"text":"Landstrasse","rotation":0},"x":564,"y":280},{"name":"Schwedenplatz","x":533,"y":224},{"name":"Schottenring","x":495,"y":185},{"name":"Roßauer Lände","label":{"x":60,"y":-4,"text":"Rossauerlaende","rotation":0},"x":469,"y":159},{"name":"Friedensbrücke","label":{"x":60,"y":-4,"text":"Friedensbruecke","rotation":0},"x":440,"y":130},{"name":"Spittelau","x":385,"y":75},{"name":"Heiligenstadt","label":{"x":50,"y":0,"text":"Heiligenstadt","rotation":0},"x":385,"y":8}],"U6":[{"name":"Siebenhirten","label":{"x":50,"y":0,"text":"Siebenhirten","rotation":0},"x":294,"y":557},{"name":"Perfektastraße","label":{"x":60,"y":0,"text":"Perfektastrasse","rotation":0},"x":294,"y":531},{"name":"Erlaaer Straße","label":{"x":58,"y":0,"text":"Erlaaerstrasse","rotation":0},"x":294,"y":505},{"name":"Alterlaa","label":{"x":35,"y":0,"text":"Alterlaa","rotation":0},"x":294,"y":479},{"name":"Schöpfwerk","label":{"x":60,"y":0,"text":"Am Schöpfwerk","rotation":0},"x":294,"y":453},{"name":"Tscherttegasse","label":{"x":55,"y":0,"text":"Tscherttegasse","rotation":0},"x":294,"y":427},{"name":"Philadelphiabrücke","label":{"x":60,"y":0,"text":"Bahnof Meidling","rotation":0},"x":294,"y":401},{"name":"Längenfeldgasse","label":{"x":60,"y":10,"text":"Längenfeldgasse","rotation":0},"x":294,"y":370},{"name":"Gumpendorfer Straße","label":{"x":80,"y":0,"text":"Gumpendorferstrasse","rotation":0},"x":294,"y":316},{"name":"Westbahnhof","label":{"x":-60,"y":10,"text":"Westbahnhof","rotation":0},"x":294,"y":278},{"name":"Burggasse - Stadthalle","label":{"x":77,"y":0,"text":"Burggasse-Stadthalle","rotation":0},"x":294,"y":250},{"name":"Thaliastraße","label":{"x":50,"y":0,"text":"Thaliastrasse","rotation":0},"x":294,"y":228},{"name":"Josefstädter Straße","label":{"x":70,"y":0,"text":"Josefstädterstrasse","rotation":0},"x":294,"y":205},{"name":"Alser Straße","label":{"x":50,"y":0,"text":"Alserstrasse","rotation":0},"x":294,"y":181},{"name":"Michelbeuern - AKH","label":{"x":68,"y":0,"text":"Michelbeuern-AKH","rotation":0},"x":294,"y":153},{"name":"Währinger Straße - Volksoper","label":{"x":100,"y":3,"text":"Währingerstrasse-Volksoper","rotation":0},"x":294,"y":118},{"name":"Nußdorfer Straße","label":{"x":0,"y":-12,"text":"Nussdorferstrasse","rotation":0},"x":335,"y":76},{"name":"Spittelau","label":{"x":30,"y":-30,"text":"Spittelau","rotation":5.5},"x":385,"y":75},{"name":"Jägerstraße","label":{"x":18,"y":-40,"text":"Jägerstrasse","rotation":5.5},"x":420,"y":76},{"name":"Dresdner Straße","label":{"x":35,"y":-50,"text":"Dresdnerstrasse","rotation":5.5},"x":450,"y":76},{"name":"Handelskai","label":{"x":50,"y":3,"text":"Handelskai","rotation":0},"x":490,"y":76},{"name":"Neue Donau","label":{"x":50,"y":5,"text":"Neue Donau","rotation":0},"x":522,"y":42},{"name":"Floridsdorf","label":{"x":45,"y":0,"text":"Floridsdorf","rotation":0},"x":556,"y":8}]}');var c=document.getElementById("graph"),f={width:c.offsetWidth,height:c.offsetHeight},g=940,d=600,p=f.width/g,h=f.height/d,S=new Two(f).appendTo(c),O=i(u,p,h);function k(){return"block"===getComputedStyle(c,null).display}k()&&(e(S,O),r(S,O)),window.addEventListener("resize",(function(){S.renderer.setSize(c.offsetWidth,c.offsetHeight),c.offsetWidth,c.offsetHeight,k()&&(e(S,O),r(S,O))}))}();
//# sourceMappingURL=index.2d841786.js.map
