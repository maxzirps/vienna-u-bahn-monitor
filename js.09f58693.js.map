{"version":3,"sources":["js/draw-stations.js","../data/colors.json","js/draw-connections.js","js/animate-trains.js","js/draw-all.js","js/scale-stations.js","../data/stations.json","js/index.js"],"names":["drawStations","two","stations","forEach","station","circle","makeCircle","x","y","fill","stroke","linewidth","label","makeText","text","rotation","module","exports","U1","U2","U3","U4","U6","require","colors","drawConnections","line","i","length","connection","makeLine","curved","animateTrain","from","to","time","xDistance","xStep","Math","abs","yStep","moveCloser","speed","xMatch","yMatch","nextXStep","nextYStep","translation","set","update","setTimeout","animateLine","lineData","lineName","lines","name","toLowerCase","entry","apiStopName","locationStop","properties","title","apiTowards","find","stationNamesMap","getNextStation","towards","index","findIndex","toUpperCase","startTrainAnimations","Promise","all","Object","keys","map","fetch","then","res","json","catch","e","console","error","message","log","data","monitors","draw","scaledStations","clear","scaleStations","scalingX","scalingY","push","elem","document","getElementById","params","width","offsetWidth","height","offsetHeight","original","Two","appendTo","resize","renderer","setSize","isDesktop","window","innerWidth","innerHeight","addEventListener"],"mappings":"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","file":"js.09f58693.js","sourceRoot":"../src","sourcesContent":["function drawStations(two, stations) {\n  stations.forEach((station) => {\n    const circle = two.makeCircle(station.x, station.y, 5);\n    circle.fill = \"#fff\";\n    circle.stroke = \"#000\";\n    circle.linewidth = 1;\n    if (station.label)\n      two.makeText(\n        station.label.text,\n        station.x + station.label.x,\n        station.y + station.label.y\n      ).rotation = station.label.rotation;\n  });\n}\n\nmodule.exports = drawStations;\n","module.exports={U1:\"#f00\",U2:\"#986aae\",U3:\"#ff9a00\",U4:\"#008b3b\",U6:\"#a53505\"};","const drawStations = require(\"./draw-stations\");\nconst colors = require(\"../../data/colors.json\");\n\nfunction drawConnections(two, stations, line) {\n  for (let i = 0; i < stations.length - 1; i++) {\n    const connection = two.makeLine(\n      stations[i].x,\n      stations[i].y,\n      stations[i + 1].x,\n      stations[i + 1].y\n    );\n    connection.stroke = colors[line];\n    connection.linewidth = 5;\n    connection.curved = true;\n  }\n}\n\nmodule.exports = drawConnections;\n","function animateTrain(two, from, to, time) {\n  const circle = two.makeCircle(from.x, from.y, 3);\n  circle.fill = \"#fff\";\n  circle.stroke = \"#000\";\n  circle.linewidth = 1;\n\n  function moveCloser(from, to, xStep, yStep, speed) {\n    const xMatch = from.x - xStep < to.x && from.x + xStep > to.x;\n    const yMatch = from.y - yStep < to.y && from.y + yStep > to.y;\n    if (!xMatch || !yMatch) {\n      const nextXStep = xMatch ? 0 : to.x > from.x ? xStep : -xStep;\n      const nextYStep = yMatch ? 0 : to.y > from.y ? yStep : -yStep;\n      from.x += nextXStep;\n      from.y += nextYStep;\n      circle.translation.set(from.x, from.y);\n      two.update();\n      setTimeout(() => moveCloser(from, to, xStep, yStep, speed), speed);\n    }\n  }\n\n  const xDistance = Math.abs(from.x - to.x);\n  const yDistance = Math.abs(from.y - to.y);\n  const speed = 100;\n  const xStep = (xDistance / time) * speed;\n  const yStep = (yDistance / time) * speed;\n  moveCloser({ ...from }, { ...to }, xStep, yStep, speed);\n}\n\nfunction animateLine(two, lineData, stations) {\n  const lineName = lineData[0].lines[0].name.toLowerCase();\n\n  lineData.forEach((entry) => {\n    const apiStopName = entry.locationStop.properties.title;\n    const apiTowards = entry.lines[entry.lines.length - 1];\n    const from = stations[lineName].find(\n      (station) => stationNamesMap[station.name] === apiStopName\n    );\n    const to = from && getNextStation(from, apiTowards, stations[lineName]);\n    if (from && to) animateTrain(two, from, to, 5000);\n  });\n}\n\nfunction getNextStation(from, towards, stations) {\n  const index = stations.findIndex((station) => station.name === from.name);\n  if (stationNamesMap[stations[0].name].toUpperCase() === towards.towards) {\n    return stations[index - 1];\n  } else if (\n    stationNamesMap[stations[stations.length - 1].name].toUpperCase() ===\n    towards.towards\n  ) {\n    return stations[index + 1];\n  }\n}\n\nfunction startTrainAnimations(two, stations) {\n  Promise.all(\n    Object.keys(stations).map((line) =>\n      fetch(\n        `https://apps.static-access.net/ViennaTransport/monitor/?line=${line}`\n      )\n        .then((res) => res.json())\n        .catch((e) => console.error(e.message))\n    )\n  ).then((res) =>\n    res.forEach((lineData) =>\n     console.log(lineData) &&  animateLine(two, lineData.data.monitors, stations)\n    )\n  );\n}\n\nmodule.exports = startTrainAnimations;\n","const drawStations = require(\"./draw-stations\");\nconst drawConnections = require(\"./draw-connections\");\nconst startTrainAnimations = require(\"./animate-trains\");\n\nfunction draw(two, scaledStations) {\n  two.clear();\n\n  Object.keys(scaledStations).forEach((line) =>\n    drawConnections(two, scaledStations[line], line)\n  );\n  Object.keys(scaledStations).forEach((line) =>\n    drawStations(two, scaledStations[line])\n  );\n  two.update();\n}\n\nmodule.exports = draw;\n","function scaleStations(stations, scalingX, scalingY) {\n  const scaledStations = {};\n  Object.keys(stations).forEach((line) => {\n    scaledStations[line] = [];\n    stations[line].forEach((station) => {\n      const x = station.x * scalingX;\n      const y = station.y * scalingY;\n      scaledStations[line].push({\n        ...station,\n        x,\n        y,\n      });\n    });\n  });\n  return scaledStations;\n}\n\nmodule.exports = scaleStations;\n","module.exports={U1:[{name:\"Oberlaa\",label:{x:35,y:0,text:\"Oberlaa\",rotation:0},x:565,y:568},{name:\"Neulaa\",label:{x:0,y:13,text:\"Neulaa\",rotation:0},x:536,y:568},{name:\"Alaudagasse\",label:{x:50,y:-2,text:\"Alaudagasse\",rotation:0},x:515,y:549},{name:\"Altes Landgut\",label:{x:55,y:-3,text:\"Altes Landgut\",rotation:0},x:497,y:529},{name:\"Troststraße\",label:{x:47,y:0,text:\"Troststrasse\",rotation:0},x:497,y:500},{name:\"Reumannplatz\",label:{x:55,y:0,text:\"Reumannplatz\",rotation:0},x:497,y:471},{name:\"Keplerplatz\",label:{x:45,y:0,text:\"Keplerplatz\",rotation:0},x:497,y:442},{name:\"Südtiroler Platz\",label:{x:55,y:0,text:\"Hauptbahnhof\",rotation:0},x:497,y:413},{name:\"Taubstummengasse\",label:{x:73,y:0,text:\"Taubstummengasse\",rotation:0},x:497,y:384},{name:\"Karlsplatz\",x:497,y:355},{name:\"Stephansplatz\",label:{x:50,y:13,text:\"Stephansplatz\",rotation:0},x:497,y:278},{name:\"Schwedenplatz\",label:{x:60,y:3,text:\"Schwedenplatz\",rotation:0},x:533,y:223},{name:\"Nestroyplatz\",label:{x:50,y:3,text:\"Nestroyplatz\",rotation:0},x:551,y:206},{name:\"Praterstern\",x:572,y:185},{name:\"Vorgartenstraße\",label:{x:65,y:0,text:\"Vorgartenstrasse\",rotation:0},x:594,y:163},{name:\"Donauinsel\",label:{x:50,y:0,text:\"Donauinsel\",rotation:0},x:613,y:143},{name:\"Kaisermühlen, V.I.C.\",label:{x:55,y:0,text:\"Kaisermühlen\",rotation:0},x:634,y:124},{name:\"Alte Donau\",label:{x:50,y:0,text:\"Alte Donau\",rotation:0},x:652,y:106},{name:\"Kagran\",label:{x:40,y:0,text:\"Kagran\",rotation:0},x:669,y:88},{name:\"Kagraner Platz\",label:{x:60,y:3,text:\"Kagraner Platz\",rotation:0},x:687,y:70},{name:\"Rennbahnweg\",label:{x:59,y:3,text:\"Rennbahnweg\",rotation:0},x:702,y:55},{name:\"Aderklaaer Straße\",label:{x:70,y:3,text:\"Aderklaaer Strasse\",rotation:0},x:717,y:39},{name:\"Großfeldsiedlung\",label:{x:68,y:3,text:\"Grossfeldsiedlung\",rotation:0},x:733,y:24},{name:\"Leopoldau\",label:{x:43,y:0,text:\"Leopoldau\",rotation:0},x:751,y:6}],U2:[{name:\"Seestadt\",label:{x:5,y:10,text:\"Seestadt\",rotation:0},x:901,y:169},{name:\"Aspern Nord\",label:{x:30,y:-40,text:\"Aspern Nord\",rotation:5.5},x:886,y:150},{name:\"Hausfeldstraße\",label:{x:38,y:-53,text:\"Hausfeldstrasse\",rotation:5.5},x:855,y:150},{name:\"Aspernstraße\",label:{x:0,y:12,text:\"Aspernstrasse\",rotation:0},x:836,y:177},{name:\"Donauspital\",label:{x:25,y:-38,text:\"Donauspital\",rotation:5.5},x:800,y:177},{name:\"Hardeggasse\",label:{x:0,y:-15,text:\"Hardeggasse\",rotation:0},x:758,y:177},{name:\"Stadlau\",label:{x:35,y:3,text:\"Stadlau\",rotation:0},x:740,y:199},{name:\"Donaustadtbrücke\",label:{x:70,y:3,text:\"Donaustadtbrücke\",rotation:0},x:729,y:220},{name:\"Donaumarina\",label:{x:55,y:3,text:\"Donaumarina\",rotation:0},x:714,y:243},{name:\"Stadion\",label:{x:30,y:-8,text:\"Stadion\",rotation:0},x:673,y:229},{name:\"Krieau\",label:{x:30,y:-8,text:\"Krieau\",rotation:0},x:650,y:209},{name:\"Messe\",label:{x:50,y:-3,text:\"Messe-Prater\",rotation:0},x:620,y:184},{name:\"Praterstern\",label:{x:45,y:12,text:\"Praterstern\",rotation:0},x:570,y:185},{name:\"Taborstraße\",label:{x:0,y:-15,text:\"Taborstrasse\",rotation:0},x:534,y:185},{name:\"Schottenring\",label:{x:-55,y:0,text:\"Schottenring\",rotation:0},x:494,y:185},{name:\"Schottentor\",label:{x:-50,y:0,text:\"Schottentor\",rotation:0},x:460,y:217},{name:\"Rathaus\",label:{x:-35,y:0,text:\"Rathaus\",rotation:0},x:435,y:244},{name:\"Volkstheater\",x:434,y:278},{name:\"Museumsquartier\",label:{x:60,y:-10,text:\"Museumsquartier\",rotation:0},x:434,y:317},{name:\"Karlsplatz\",label:{x:5,y:10,text:\"karlsplatz\",rotation:0},x:497,y:355}],U3:[{name:\"Ottakring\",label:{x:25,y:-30,text:\"Ottakring\",rotation:5.5},x:125,y:195},{name:\"Kendlerstraße\",label:{x:38,y:-45,text:\"Kendlerstrasse\",rotation:5.5},x:153,y:209},{name:\"Hütteldorfer Straße\",label:{x:48,y:-55,text:\"Hütteldorferstrasse\",rotation:5.5},x:182,y:223},{name:\"Johnstraße\",label:{x:35,y:-35,text:\"Johnstrasse\",rotation:5.5},x:209,y:237},{name:\"Schweglerstraße\",label:{x:48,y:-50,text:\"Schweglerstrasse\",rotation:5.5},x:241,y:252},{name:\"Westbahnhof\",x:292,y:278},{name:\"Zieglergasse\",label:{x:0,y:12,text:\"Zieglergasse\",rotation:0},x:343,y:278},{name:\"Neubaugasse\",label:{x:0,y:12,text:\"Neubaugasse\",rotation:0},x:386,y:278},{name:\"Volkstheater\",label:{x:35,y:-35,text:\"Volkstheater\",rotation:5.5},x:434,y:278},{name:\"Herrengasse\",label:{x:35,y:-35,text:\"Herrengasse\",rotation:5.5},x:463,y:278},{name:\"Stephansplatz\",x:495,y:278},{name:\"Stubentor\",label:{x:0,y:-12,text:\"Stubentor\",rotation:0},x:525,y:278},{name:\"Landstraße\",x:564,y:280},{name:\"Rochusgasse\",label:{x:50,y:-3,text:\"Rochusgasse\",rotation:0},x:592,y:299},{name:\"Kardinal-Nagl-Platz\",label:{x:70,y:-3,text:\"Kardinal-Nagl-Platz\",rotation:0},x:618,y:317},{name:\"Schlachthausgasse\",label:{x:70,y:-3,text:\"Schlachthausgasse\",rotation:0},x:642,y:335},{name:\"Erdberg\",label:{x:40,y:-3,text:\"Erdberg\",rotation:0},x:673,y:355},{name:\"Gasometer\",label:{x:50,y:-3,text:\"Gasometer\",rotation:0},x:699,y:374},{name:\"Zippererstraße\",label:{x:60,y:-5,text:\"Zippererstrasse\",rotation:0},x:729,y:396},{name:\"Enkplatz\",label:{x:40,y:-3,text:\"Enkplatz\",rotation:0},x:757,y:414},{name:\"Simmering\",label:{x:45,y:-3,text:\"Simmering\",rotation:0},x:784,y:434}],U4:[{name:\"Hütteldorf\",label:{x:20,y:-35,text:\"Hütteldorf\",rotation:5.5},x:6,y:365},{name:\"Ober St. Veit\",label:{x:25,y:-40,text:\"Ober St. Veit\",rotation:5.5},x:46,y:365},{name:\"Unter St. Veit\",label:{x:25,y:-40,text:\"Unter St. Veit\",rotation:5.5},x:86,y:365},{name:\"Braunschweiggasse\",label:{x:40,y:-55,text:\"Braunschweiggasse\",rotation:5.5},x:126,y:365},{name:\"Hietzing\",label:{x:20,y:-35,text:\"Hietzing\",rotation:5.5},x:166,y:365},{name:\"Schönbrunn\",label:{x:30,y:-40,text:\"Schönbrunn\",rotation:5.5},x:206,y:365},{name:\"Meidling Hauptstraße\",label:{x:50,y:-65,text:\"Meidling Hauptstrasse\",rotation:5.5},x:246,y:365},{name:\"Längenfeldgasse\",x:295,y:365},{name:\"Margaretengürtel\",label:{x:35,y:-50,text:\"Margaretengürtel\",rotation:5.5},x:340,y:365},{name:\"Pilgramgasse\",label:{x:30,y:-45,text:\"Pilgramgasse\",rotation:5.5},x:380,y:365},{name:\"Kettenbrückengasse\",label:{x:0,y:15,text:\"Kettenbrückengasse\",rotation:0},x:420,y:365},{name:\"Karlsplatz\",x:460,y:365},{name:\"Stadtpark\",label:{x:40,y:0,text:\"Stadtpark\",rotation:0},x:550,y:330},{name:\"Landstraße\",label:{x:47,y:0,text:\"Landstrasse\",rotation:0},x:564,y:280},{name:\"Schwedenplatz\",x:533,y:224},{name:\"Schottenring\",x:495,y:185},{name:\"Roßauer Lände\",label:{x:60,y:-4,text:\"Rossauerlaende\",rotation:0},x:469,y:159},{name:\"Friedensbrücke\",label:{x:60,y:-4,text:\"Friedensbruecke\",rotation:0},x:440,y:130},{name:\"Spittelau\",x:385,y:75},{name:\"Heiligenstadt\",label:{x:50,y:0,text:\"Heiligenstadt\",rotation:0},x:385,y:8}],U6:[{name:\"Siebenhirten\",label:{x:50,y:0,text:\"Siebenhirten\",rotation:0},x:294,y:557},{name:\"Perfektastraße\",label:{x:60,y:0,text:\"Perfektastrasse\",rotation:0},x:294,y:531},{name:\"Erlaaer Straße\",label:{x:58,y:0,text:\"Erlaaerstrasse\",rotation:0},x:294,y:505},{name:\"Alterlaa\",label:{x:35,y:0,text:\"Alterlaa\",rotation:0},x:294,y:479},{name:\"Schöpfwerk\",label:{x:60,y:0,text:\"Am Schöpfwerk\",rotation:0},x:294,y:453},{name:\"Tscherttegasse\",label:{x:55,y:0,text:\"Tscherttegasse\",rotation:0},x:294,y:427},{name:\"Philadelphiabrücke\",label:{x:60,y:0,text:\"Bahnof Meidling\",rotation:0},x:294,y:401},{name:\"Längenfeldgasse\",label:{x:60,y:10,text:\"Längenfeldgasse\",rotation:0},x:294,y:370},{name:\"Gumpendorfer Straße\",label:{x:80,y:0,text:\"Gumpendorferstrasse\",rotation:0},x:294,y:316},{name:\"Westbahnhof\",label:{x:-60,y:10,text:\"Westbahnhof\",rotation:0},x:294,y:278},{name:\"Burggasse - Stadthalle\",label:{x:77,y:0,text:\"Burggasse-Stadthalle\",rotation:0},x:294,y:250},{name:\"Thaliastraße\",label:{x:50,y:0,text:\"Thaliastrasse\",rotation:0},x:294,y:228},{name:\"Josefstädter Straße\",label:{x:70,y:0,text:\"Josefstädterstrasse\",rotation:0},x:294,y:205},{name:\"Alser Straße\",label:{x:50,y:0,text:\"Alserstrasse\",rotation:0},x:294,y:181},{name:\"Michelbeuern - AKH\",label:{x:68,y:0,text:\"Michelbeuern-AKH\",rotation:0},x:294,y:153},{name:\"Währinger Straße - Volksoper\",label:{x:100,y:3,text:\"Währingerstrasse-Volksoper\",rotation:0},x:294,y:118},{name:\"Nußdorfer Straße\",label:{x:0,y:-12,text:\"Nussdorferstrasse\",rotation:0},x:335,y:76},{name:\"Spittelau\",label:{x:30,y:-30,text:\"Spittelau\",rotation:5.5},x:385,y:75},{name:\"Jägerstraße\",label:{x:18,y:-40,text:\"Jägerstrasse\",rotation:5.5},x:420,y:76},{name:\"Dresdner Straße\",label:{x:35,y:-50,text:\"Dresdnerstrasse\",rotation:5.5},x:450,y:76},{name:\"Handelskai\",label:{x:50,y:3,text:\"Handelskai\",rotation:0},x:490,y:76},{name:\"Neue Donau\",label:{x:50,y:5,text:\"Neue Donau\",rotation:0},x:522,y:42},{name:\"Floridsdorf\",label:{x:45,y:0,text:\"Floridsdorf\",rotation:0},x:556,y:8}]};","const draw = require(\"./draw-all\");\nconst startTrainAnimations = require(\"./animate-trains\");\nconst scaleStations = require(\"./scale-stations\");\nconst stations = require(\"../../data/stations.json\");\n\nconst elem = document.getElementById(\"graph\");\nconst params = { width: elem.offsetWidth, height: elem.offsetHeight };\nconst original = { width: 940, height: 600 };\nlet scalingX = params.width / original.width;\nlet scalingY = params.height / original.height;\nconst two = new Two(params).appendTo(elem);\nconst scaledStations = scaleStations(stations, scalingX, scalingY);\n\nisDesktop() &&\n  draw(two, scaledStations) &&\n  startTrainAnimations(two, scaledStations) && console.log(\"ahjsg\");\n\nfunction resize() {\n  // TODO: bounce\n  two.renderer.setSize(elem.offsetWidth, elem.offsetHeight);\n  const scaling = {\n    x: elem.offsetWidth / original.width,\n    y: elem.offsetHeight / original.height,\n  };\n  isDesktop() &&\n    draw(two, scaledStations) &&\n    startTrainAnimations(two, scaledStations);\n}\n\nwindow.addEventListener(\"resize\", resize);\n\nfunction isDesktop() {\n  return window.innerWidth > 1600 && window.innerHeight > 900;\n}\n"]}