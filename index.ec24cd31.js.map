{"mappings":"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","sources":["./src/js/draw-all.js","./src/js/draw-stations.js","./src/js/draw-connections.js","./data/colors.json","./src/js/animate-trains.js","./src/js/index.js","./src/js/scale-stations.js","./data/stations.json"],"sourcesContent":["const drawStations = require(\"./draw-stations\");\nconst drawConnections = require(\"./draw-connections\");\nconst startTrainAnimations = require(\"./animate-trains\");\n\nfunction draw(two, scaledStations) {\n  two.clear();\n\n  Object.keys(scaledStations).forEach((line) =>\n    drawConnections(two, scaledStations[line], line)\n  );\n  Object.keys(scaledStations).forEach((line) =>\n    drawStations(two, scaledStations[line])\n  );\n  two.update();\n}\n\nmodule.exports = draw;\n","function drawStations(two, stations) {\n  stations.forEach((station) => {\n    const circle = two.makeCircle(station.x, station.y, 5);\n    circle.fill = \"#fff\";\n    circle.stroke = \"#000\";\n    circle.linewidth = 1;\n    if (station.label)\n      two.makeText(\n        station.label.text,\n        station.x + station.label.x,\n        station.y + station.label.y\n      ).rotation = station.label.rotation;\n  });\n}\n\nmodule.exports = drawStations;\n","const drawStations = require(\"./draw-stations\");\nconst colors = require(\"../../data/colors.json\");\n\nfunction drawConnections(two, stations, line) {\n  for (let i = 0; i < stations.length - 1; i++) {\n    const connection = two.makeLine(\n      stations[i].x,\n      stations[i].y,\n      stations[i + 1].x,\n      stations[i + 1].y\n    );\n    connection.stroke = colors[line];\n    connection.linewidth = 5;\n    connection.curved = true;\n  }\n}\n\nmodule.exports = drawConnections;\n","{\n  \"U1\": \"#f00\",\n  \"U2\": \"#986aae\",\n  \"U3\": \"#ff9a00\",\n  \"U4\": \"#008b3b\",\n  \"U6\": \"#a53505\"\n}\n","function animateTrain(two, from, to, time) {\n  const circle = two.makeCircle(from.x, from.y, 3);\n  circle.fill = \"#fff\";\n  circle.stroke = \"#000\";\n  circle.linewidth = 1;\n\n  function moveCloser(from, to, xStep, yStep, speed) {\n    const xMatch = from.x - xStep < to.x && from.x + xStep > to.x;\n    const yMatch = from.y - yStep < to.y && from.y + yStep > to.y;\n    if (!xMatch || !yMatch) {\n      const nextXStep = xMatch ? 0 : to.x > from.x ? xStep : -xStep;\n      const nextYStep = yMatch ? 0 : to.y > from.y ? yStep : -yStep;\n      from.x += nextXStep;\n      from.y += nextYStep;\n      circle.translation.set(from.x, from.y);\n      two.update();\n      setTimeout(() => moveCloser(from, to, xStep, yStep, speed), speed);\n    }\n  }\n\n  const xDistance = Math.abs(from.x - to.x);\n  const yDistance = Math.abs(from.y - to.y);\n  const speed = 100;\n  const xStep = (xDistance / time) * speed;\n  const yStep = (yDistance / time) * speed;\n  moveCloser({ ...from }, { ...to }, xStep, yStep, speed);\n}\n\nfunction animateLine(two, lineData, stations) {\n  const lineName = lineData[0].lines[0].name;\n  lineData.forEach((entry) => {\n    const apiStopName = entry.locationStop.properties.title;\n    const apiTowards = entry.lines[entry.lines.length - 1];\n    const from = stations[lineName].find(\n      (station) => station.name === apiStopName\n    );\n    const to = from && getNextStation(from, apiTowards, stations[lineName]);\n    if (from && to) animateTrain(two, from, to, 5000);\n  });\n}\n\nfunction getNextStation(from, towards, stations) {\n  const index = stations.findIndex((station) => station.name === from.name);\n  if (stations[0].name.toUpperCase() === towards.towards) {\n    return stations[index - 1];\n  } else if (\n    stations[stations.length - 1].name.toUpperCase() === towards.towards\n  ) {\n    return stations[index + 1];\n  }\n}\n\nfunction startTrainAnimations(two, stations) {\n  Promise.all(\n    Object.keys(stations).map((line) =>\n      fetch(\n        `https://apps.static-access.net/ViennaTransport/monitor/?line=${line}`\n      )\n        .then((res) => res.json())\n        .catch((e) => console.error(e.message))\n    )\n  ).then((res) =>\n    res.forEach((lineData) =>\n      animateLine(two, lineData.data.monitors, stations)\n    )\n  );\n}\n\nmodule.exports = startTrainAnimations;\n","const draw = require(\"./draw-all\");\nconst startTrainAnimations = require(\"./animate-trains\");\nconst scaleStations = require(\"./scale-stations\");\nconst stations = require(\"../../data/stations.json\");\n\nconst elem = document.getElementById(\"graph\");\nconst params = { width: elem.offsetWidth, height: elem.offsetHeight };\nconst original = { width: 940, height: 600 };\nlet scalingX = params.width / original.width;\nlet scalingY = params.height / original.height;\nconst two = new Two(params).appendTo(elem);\nconst scaledStations = scaleStations(stations, scalingX, scalingY);\n\nif (isDesktop()) {\n  draw(two, scaledStations);\n  startTrainAnimations(two, scaledStations);\n}\n\nfunction resize() {\n  // TODO: bounce\n  two.renderer.setSize(elem.offsetWidth, elem.offsetHeight);\n  const scaling = {\n    x: elem.offsetWidth / original.width,\n    y: elem.offsetHeight / original.height,\n  };\n  if (isDesktop()) {\n    draw(two, scaledStations);\n    startTrainAnimations(two, scaledStations);\n  }\n}\n\nwindow.addEventListener(\"resize\", resize);\n\nfunction isDesktop() {\n  return getComputedStyle(elem, null).display === \"block\";\n}\n","function scaleStations(stations, scalingX, scalingY) {\n  const scaledStations = {};\n  Object.keys(stations).forEach((line) => {\n    scaledStations[line] = [];\n    stations[line].forEach((station) => {\n      const x = station.x * scalingX;\n      const y = station.y * scalingY;\n      scaledStations[line].push({\n        ...station,\n        x,\n        y,\n      });\n    });\n  });\n  return scaledStations;\n}\n\nmodule.exports = scaleStations;\n","{\n  \"U1\": [\n    {\n      \"name\": \"Oberlaa\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": 0,\n        \"text\": \"Oberlaa\",\n        \"rotation\": 0\n      },\n      \"x\": 565,\n      \"y\": 568\n    },\n    {\n      \"name\": \"Neulaa\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": 13,\n        \"text\": \"Neulaa\",\n        \"rotation\": 0\n      },\n      \"x\": 536,\n      \"y\": 568\n    },\n    {\n      \"name\": \"Alaudagasse\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": -2,\n        \"text\": \"Alaudagasse\",\n        \"rotation\": 0\n      },\n      \"x\": 515,\n      \"y\": 549\n    },\n    {\n      \"name\": \"Altes Landgut\",\n      \"label\": {\n        \"x\": 55,\n        \"y\": -3,\n        \"text\": \"Altes Landgut\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 529\n    },\n    {\n      \"name\": \"Troststraße\",\n      \"label\": {\n        \"x\": 47,\n        \"y\": 0,\n        \"text\": \"Troststrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 500\n    },\n    {\n      \"name\": \"Reumannplatz\",\n      \"label\": {\n        \"x\": 55,\n        \"y\": 0,\n        \"text\": \"Reumannplatz\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 471\n    },\n    {\n      \"name\": \"Keplerplatz\",\n      \"label\": {\n        \"x\": 45,\n        \"y\": 0,\n        \"text\": \"Keplerplatz\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 442\n    },\n    {\n      \"name\": \"Südtiroler Platz\",\n      \"label\": {\n        \"x\": 55,\n        \"y\": 0,\n        \"text\": \"Hauptbahnhof\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 413\n    },\n    {\n      \"name\": \"Taubstummengasse\",\n      \"label\": {\n        \"x\": 73,\n        \"y\": 0,\n        \"text\": \"Taubstummengasse\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 384\n    },\n    {\n      \"name\": \"Karlsplatz\",\n      \"x\": 497,\n      \"y\": 355\n    },\n    {\n      \"name\": \"Stephansplatz\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 13,\n        \"text\": \"Stephansplatz\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Schwedenplatz\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": 3,\n        \"text\": \"Schwedenplatz\",\n        \"rotation\": 0\n      },\n      \"x\": 533,\n      \"y\": 223\n    },\n    {\n      \"name\": \"Nestroyplatz\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 3,\n        \"text\": \"Nestroyplatz\",\n        \"rotation\": 0\n      },\n      \"x\": 551,\n      \"y\": 206\n    },\n    {\n      \"name\": \"Praterstern\",\n      \"x\": 572,\n      \"y\": 185\n    },\n    {\n      \"name\": \"Vorgartenstraße\",\n      \"label\": {\n        \"x\": 65,\n        \"y\": 0,\n        \"text\": \"Vorgartenstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 594,\n      \"y\": 163\n    },\n    {\n      \"name\": \"Donauinsel\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 0,\n        \"text\": \"Donauinsel\",\n        \"rotation\": 0\n      },\n      \"x\": 613,\n      \"y\": 143\n    },\n    {\n      \"name\": \"Kaisermühlen, V.I.C.\",\n      \"label\": {\n        \"x\": 55,\n        \"y\": 0,\n        \"text\": \"Kaisermühlen\",\n        \"rotation\": 0\n      },\n      \"x\": 634,\n      \"y\": 124\n    },\n    {\n      \"name\": \"Alte Donau\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 0,\n        \"text\": \"Alte Donau\",\n        \"rotation\": 0\n      },\n      \"x\": 652,\n      \"y\": 106\n    },\n    {\n      \"name\": \"Kagran\",\n      \"label\": {\n        \"x\": 40,\n        \"y\": 0,\n        \"text\": \"Kagran\",\n        \"rotation\": 0\n      },\n      \"x\": 669,\n      \"y\": 88\n    },\n    {\n      \"name\": \"Kagraner Platz\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": 3,\n        \"text\": \"Kagraner Platz\",\n        \"rotation\": 0\n      },\n      \"x\": 687,\n      \"y\": 70\n    },\n    {\n      \"name\": \"Rennbahnweg\",\n      \"label\": {\n        \"x\": 59,\n        \"y\": 3,\n        \"text\": \"Rennbahnweg\",\n        \"rotation\": 0\n      },\n      \"x\": 702,\n      \"y\": 55\n    },\n    {\n      \"name\": \"Aderklaaer Straße\",\n      \"label\": {\n        \"x\": 70,\n        \"y\": 3,\n        \"text\": \"Aderklaaer Strasse\",\n        \"rotation\": 0\n      },\n      \"x\": 717,\n      \"y\": 39\n    },\n    {\n      \"name\": \"Großfeldsiedlung\",\n      \"label\": {\n        \"x\": 68,\n        \"y\": 3,\n        \"text\": \"Grossfeldsiedlung\",\n        \"rotation\": 0\n      },\n      \"x\": 733,\n      \"y\": 24\n    },\n    {\n      \"name\": \"Leopoldau\",\n      \"label\": {\n        \"x\": 43,\n        \"y\": 0,\n        \"text\": \"Leopoldau\",\n        \"rotation\": 0\n      },\n      \"x\": 751,\n      \"y\": 6\n    }\n  ],\n  \"U2\": [\n    {\n      \"name\": \"Seestadt\",\n      \"label\": {\n        \"x\": 5,\n        \"y\": 10,\n        \"text\": \"Seestadt\",\n        \"rotation\": 0\n      },\n      \"x\": 901,\n      \"y\": 169\n    },\n    {\n      \"name\": \"Aspern Nord\",\n      \"label\": {\n        \"x\": 30,\n        \"y\": -40,\n        \"text\": \"Aspern Nord\",\n        \"rotation\": 5.5\n      },\n      \"x\": 886,\n      \"y\": 150\n    },\n    {\n      \"name\": \"Hausfeldstraße\",\n      \"label\": {\n        \"x\": 38,\n        \"y\": -53,\n        \"text\": \"Hausfeldstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 855,\n      \"y\": 150\n    },\n    {\n      \"name\": \"Aspernstraße\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": 12,\n        \"text\": \"Aspernstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 836,\n      \"y\": 177\n    },\n    {\n      \"name\": \"Donauspital\",\n      \"label\": {\n        \"x\": 25,\n        \"y\": -38,\n        \"text\": \"Donauspital\",\n        \"rotation\": 5.5\n      },\n      \"x\": 800,\n      \"y\": 177\n    },\n    {\n      \"name\": \"Hardeggasse\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": -15,\n        \"text\": \"Hardeggasse\",\n        \"rotation\": 0\n      },\n      \"x\": 758,\n      \"y\": 177\n    },\n    {\n      \"name\": \"Stadlau\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": 3,\n        \"text\": \"Stadlau\",\n        \"rotation\": 0\n      },\n      \"x\": 740,\n      \"y\": 199\n    },\n    {\n      \"name\": \"Donaustadtbrücke\",\n      \"label\": {\n        \"x\": 70,\n        \"y\": 3,\n        \"text\": \"Donaustadtbrücke\",\n        \"rotation\": 0\n      },\n      \"x\": 729,\n      \"y\": 220\n    },\n    {\n      \"name\": \"Donaumarina\",\n      \"label\": {\n        \"x\": 55,\n        \"y\": 3,\n        \"text\": \"Donaumarina\",\n        \"rotation\": 0\n      },\n      \"x\": 714,\n      \"y\": 243\n    },\n    {\n      \"name\": \"Stadion\",\n      \"label\": {\n        \"x\": 30,\n        \"y\": -8,\n        \"text\": \"Stadion\",\n        \"rotation\": 0\n      },\n      \"x\": 673,\n      \"y\": 229\n    },\n    {\n      \"name\": \"Krieau\",\n      \"label\": {\n        \"x\": 30,\n        \"y\": -8,\n        \"text\": \"Krieau\",\n        \"rotation\": 0\n      },\n      \"x\": 650,\n      \"y\": 209\n    },\n    {\n      \"name\": \"Messe\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": -3,\n        \"text\": \"Messe-Prater\",\n        \"rotation\": 0\n      },\n      \"x\": 620,\n      \"y\": 184\n    },\n    {\n      \"name\": \"Praterstern\",\n      \"label\": {\n        \"x\": 45,\n        \"y\": 12,\n        \"text\": \"Praterstern\",\n        \"rotation\": 0\n      },\n      \"x\": 570,\n      \"y\": 185\n    },\n    {\n      \"name\": \"Taborstraße\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": -15,\n        \"text\": \"Taborstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 534,\n      \"y\": 185\n    },\n    {\n      \"name\": \"Schottenring\",\n      \"label\": {\n        \"x\": -55,\n        \"y\": 0,\n        \"text\": \"Schottenring\",\n        \"rotation\": 0\n      },\n      \"x\": 494,\n      \"y\": 185\n    },\n    {\n      \"name\": \"Schottentor\",\n      \"label\": {\n        \"x\": -50,\n        \"y\": 0,\n        \"text\": \"Schottentor\",\n        \"rotation\": 0\n      },\n      \"x\": 460,\n      \"y\": 217\n    },\n    {\n      \"name\": \"Rathaus\",\n      \"label\": {\n        \"x\": -35,\n        \"y\": 0,\n        \"text\": \"Rathaus\",\n        \"rotation\": 0\n      },\n      \"x\": 435,\n      \"y\": 244\n    },\n    {\n      \"name\": \"Volkstheater\",\n      \"x\": 434,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Museumsquartier\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": -10,\n        \"text\": \"Museumsquartier\",\n        \"rotation\": 0\n      },\n      \"x\": 434,\n      \"y\": 317\n    },\n    {\n      \"name\": \"Karlsplatz\",\n      \"label\": {\n        \"x\": 5,\n        \"y\": 10,\n        \"text\": \"karlsplatz\",\n        \"rotation\": 0\n      },\n      \"x\": 497,\n      \"y\": 355\n    }\n  ],\n  \"U3\": [\n    {\n      \"name\": \"Ottakring\",\n      \"label\": {\n        \"x\": 25,\n        \"y\": -30,\n        \"text\": \"Ottakring\",\n        \"rotation\": 5.5\n      },\n      \"x\": 125,\n      \"y\": 195\n    },\n    {\n      \"name\": \"Kendlerstraße\",\n      \"label\": {\n        \"x\": 38,\n        \"y\": -45,\n        \"text\": \"Kendlerstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 153,\n      \"y\": 209\n    },\n    {\n      \"name\": \"Hütteldorfer Straße\",\n      \"label\": {\n        \"x\": 48,\n        \"y\": -55,\n        \"text\": \"Hütteldorferstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 182,\n      \"y\": 223\n    },\n    {\n      \"name\": \"Johnstraße\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": -35,\n        \"text\": \"Johnstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 209,\n      \"y\": 237\n    },\n    {\n      \"name\": \"Schweglerstraße\",\n      \"label\": {\n        \"x\": 48,\n        \"y\": -50,\n        \"text\": \"Schweglerstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 241,\n      \"y\": 252\n    },\n    {\n      \"name\": \"Westbahnhof\",\n      \"x\": 292,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Zieglergasse\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": 12,\n        \"text\": \"Zieglergasse\",\n        \"rotation\": 0\n      },\n      \"x\": 343,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Neubaugasse\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": 12,\n        \"text\": \"Neubaugasse\",\n        \"rotation\": 0\n      },\n      \"x\": 386,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Volkstheater\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": -35,\n        \"text\": \"Volkstheater\",\n        \"rotation\": 5.5\n      },\n      \"x\": 434,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Herrengasse\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": -35,\n        \"text\": \"Herrengasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 463,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Stephansplatz\",\n      \"x\": 495,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Stubentor\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": -12,\n        \"text\": \"Stubentor\",\n        \"rotation\": 0\n      },\n      \"x\": 525,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Landstraße\",\n      \"x\": 564,\n      \"y\": 280\n    },\n    {\n      \"name\": \"Rochusgasse\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": -3,\n        \"text\": \"Rochusgasse\",\n        \"rotation\": 0\n      },\n      \"x\": 592,\n      \"y\": 299\n    },\n    {\n      \"name\": \"Kardinal-Nagl-Platz\",\n      \"label\": {\n        \"x\": 70,\n        \"y\": -3,\n        \"text\": \"Kardinal-Nagl-Platz\",\n        \"rotation\": 0\n      },\n      \"x\": 618,\n      \"y\": 317\n    },\n    {\n      \"name\": \"Schlachthausgasse\",\n      \"label\": {\n        \"x\": 70,\n        \"y\": -3,\n        \"text\": \"Schlachthausgasse\",\n        \"rotation\": 0\n      },\n      \"x\": 642,\n      \"y\": 335\n    },\n    {\n      \"name\": \"Erdberg\",\n      \"label\": {\n        \"x\": 40,\n        \"y\": -3,\n        \"text\": \"Erdberg\",\n        \"rotation\": 0\n      },\n      \"x\": 673,\n      \"y\": 355\n    },\n    {\n      \"name\": \"Gasometer\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": -3,\n        \"text\": \"Gasometer\",\n        \"rotation\": 0\n      },\n      \"x\": 699,\n      \"y\": 374\n    },\n    {\n      \"name\": \"Zippererstraße\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": -5,\n        \"text\": \"Zippererstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 729,\n      \"y\": 396\n    },\n    {\n      \"name\": \"Enkplatz\",\n      \"label\": {\n        \"x\": 40,\n        \"y\": -3,\n        \"text\": \"Enkplatz\",\n        \"rotation\": 0\n      },\n      \"x\": 757,\n      \"y\": 414\n    },\n    {\n      \"name\": \"Simmering\",\n      \"label\": {\n        \"x\": 45,\n        \"y\": -3,\n        \"text\": \"Simmering\",\n        \"rotation\": 0\n      },\n      \"x\": 784,\n      \"y\": 434\n    }\n  ],\n  \"U4\": [\n    {\n      \"name\": \"Hütteldorf\",\n      \"label\": {\n        \"x\": 20,\n        \"y\": -35,\n        \"text\": \"Hütteldorf\",\n        \"rotation\": 5.5\n      },\n      \"x\": 6,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Ober St. Veit\",\n      \"label\": {\n        \"x\": 25,\n        \"y\": -40,\n        \"text\": \"Ober St. Veit\",\n        \"rotation\": 5.5\n      },\n      \"x\": 46,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Unter St. Veit\",\n      \"label\": {\n        \"x\": 25,\n        \"y\": -40,\n        \"text\": \"Unter St. Veit\",\n        \"rotation\": 5.5\n      },\n      \"x\": 86,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Braunschweiggasse\",\n      \"label\": {\n        \"x\": 40,\n        \"y\": -55,\n        \"text\": \"Braunschweiggasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 126,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Hietzing\",\n      \"label\": {\n        \"x\": 20,\n        \"y\": -35,\n        \"text\": \"Hietzing\",\n        \"rotation\": 5.5\n      },\n      \"x\": 166,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Schönbrunn\",\n      \"label\": {\n        \"x\": 30,\n        \"y\": -40,\n        \"text\": \"Schönbrunn\",\n        \"rotation\": 5.5\n      },\n      \"x\": 206,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Meidling Hauptstraße\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": -65,\n        \"text\": \"Meidling Hauptstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 246,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Längenfeldgasse\",\n      \"x\": 295,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Margaretengürtel\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": -50,\n        \"text\": \"Margaretengürtel\",\n        \"rotation\": 5.5\n      },\n      \"x\": 340,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Pilgramgasse\",\n      \"label\": {\n        \"x\": 30,\n        \"y\": -45,\n        \"text\": \"Pilgramgasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 380,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Kettenbrückengasse\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": 15,\n        \"text\": \"Kettenbrückengasse\",\n        \"rotation\": 0\n      },\n      \"x\": 420,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Karlsplatz\",\n      \"x\": 460,\n      \"y\": 365\n    },\n    {\n      \"name\": \"Stadtpark\",\n      \"label\": {\n        \"x\": 40,\n        \"y\": 0,\n        \"text\": \"Stadtpark\",\n        \"rotation\": 0\n      },\n      \"x\": 550,\n      \"y\": 330\n    },\n    {\n      \"name\": \"Landstraße\",\n      \"label\": {\n        \"x\": 47,\n        \"y\": 0,\n        \"text\": \"Landstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 564,\n      \"y\": 280\n    },\n    {\n      \"name\": \"Schwedenplatz\",\n      \"x\": 533,\n      \"y\": 224\n    },\n    {\n      \"name\": \"Schottenring\",\n      \"x\": 495,\n      \"y\": 185\n    },\n    {\n      \"name\": \"Roßauer Lände\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": -4,\n        \"text\": \"Rossauerlaende\",\n        \"rotation\": 0\n      },\n      \"x\": 469,\n      \"y\": 159\n    },\n    {\n      \"name\": \"Friedensbrücke\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": -4,\n        \"text\": \"Friedensbruecke\",\n        \"rotation\": 0\n      },\n      \"x\": 440,\n      \"y\": 130\n    },\n    {\n      \"name\": \"Spittelau\",\n      \"x\": 385,\n      \"y\": 75\n    },\n    {\n      \"name\": \"Heiligenstadt\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 0,\n        \"text\": \"Heiligenstadt\",\n        \"rotation\": 0\n      },\n      \"x\": 385,\n      \"y\": 8\n    }\n  ],\n  \"U6\": [\n    {\n      \"name\": \"Siebenhirten\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 0,\n        \"text\": \"Siebenhirten\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 557\n    },\n    {\n      \"name\": \"Perfektastraße\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": 0,\n        \"text\": \"Perfektastrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 531\n    },\n    {\n      \"name\": \"Erlaaer Straße\",\n      \"label\": {\n        \"x\": 58,\n        \"y\": 0,\n        \"text\": \"Erlaaerstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 505\n    },\n    {\n      \"name\": \"Alterlaa\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": 0,\n        \"text\": \"Alterlaa\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 479\n    },\n    {\n      \"name\": \"Schöpfwerk\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": 0,\n        \"text\": \"Am Schöpfwerk\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 453\n    },\n    {\n      \"name\": \"Tscherttegasse\",\n      \"label\": {\n        \"x\": 55,\n        \"y\": 0,\n        \"text\": \"Tscherttegasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 427\n    },\n    {\n      \"name\": \"Philadelphiabrücke\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": 0,\n        \"text\": \"Bahnof Meidling\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 401\n    },\n    {\n      \"name\": \"Längenfeldgasse\",\n      \"label\": {\n        \"x\": 60,\n        \"y\": 10,\n        \"text\": \"Längenfeldgasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 370\n    },\n    {\n      \"name\": \"Gumpendorfer Straße\",\n      \"label\": {\n        \"x\": 80,\n        \"y\": 0,\n        \"text\": \"Gumpendorferstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 316\n    },\n    {\n      \"name\": \"Westbahnhof\",\n      \"label\": {\n        \"x\": -60,\n        \"y\": 10,\n        \"text\": \"Westbahnhof\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 278\n    },\n    {\n      \"name\": \"Burggasse - Stadthalle\",\n      \"label\": {\n        \"x\": 77,\n        \"y\": 0,\n        \"text\": \"Burggasse-Stadthalle\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 250\n    },\n    {\n      \"name\": \"Thaliastraße\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 0,\n        \"text\": \"Thaliastrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 228\n    },\n    {\n      \"name\": \"Josefstädter Straße\",\n      \"label\": {\n        \"x\": 70,\n        \"y\": 0,\n        \"text\": \"Josefstädterstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 205\n    },\n    {\n      \"name\": \"Alser Straße\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 0,\n        \"text\": \"Alserstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 181\n    },\n    {\n      \"name\": \"Michelbeuern - AKH\",\n      \"label\": {\n        \"x\": 68,\n        \"y\": 0,\n        \"text\": \"Michelbeuern-AKH\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 153\n    },\n    {\n      \"name\": \"Währinger Straße - Volksoper\",\n      \"label\": {\n        \"x\": 100,\n        \"y\": 3,\n        \"text\": \"Währingerstrasse-Volksoper\",\n        \"rotation\": 0\n      },\n      \"x\": 294,\n      \"y\": 118\n    },\n    {\n      \"name\": \"Nußdorfer Straße\",\n      \"label\": {\n        \"x\": 0,\n        \"y\": -12,\n        \"text\": \"Nussdorferstrasse\",\n        \"rotation\": 0\n      },\n      \"x\": 335,\n      \"y\": 76\n    },\n    {\n      \"name\": \"Spittelau\",\n      \"label\": {\n        \"x\": 30,\n        \"y\": -30,\n        \"text\": \"Spittelau\",\n        \"rotation\": 5.5\n      },\n      \"x\": 385,\n      \"y\": 75\n    },\n    {\n      \"name\": \"Jägerstraße\",\n      \"label\": {\n        \"x\": 18,\n        \"y\": -40,\n        \"text\": \"Jägerstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 420,\n      \"y\": 76\n    },\n    {\n      \"name\": \"Dresdner Straße\",\n      \"label\": {\n        \"x\": 35,\n        \"y\": -50,\n        \"text\": \"Dresdnerstrasse\",\n        \"rotation\": 5.5\n      },\n      \"x\": 450,\n      \"y\": 76\n    },\n    {\n      \"name\": \"Handelskai\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 3,\n        \"text\": \"Handelskai\",\n        \"rotation\": 0\n      },\n      \"x\": 490,\n      \"y\": 76\n    },\n    {\n      \"name\": \"Neue Donau\",\n      \"label\": {\n        \"x\": 50,\n        \"y\": 5,\n        \"text\": \"Neue Donau\",\n        \"rotation\": 0\n      },\n      \"x\": 522,\n      \"y\": 42\n    },\n    {\n      \"name\": \"Floridsdorf\",\n      \"label\": {\n        \"x\": 45,\n        \"y\": 0,\n        \"text\": \"Floridsdorf\",\n        \"rotation\": 0\n      },\n      \"x\": 556,\n      \"y\": 8\n    }\n  ]\n}"],"names":["$72f62b955272728c151232540aae2307$var$drawStations","two","stations","forEach","station","circle","makeCircle","x","y","fill","stroke","linewidth","label","makeText","text","rotation","$fa18d3079e181960754f7f91196168bb$var$colors","JSON","parse","$72f62b955272728c151232540aae2307$var$drawConnections","line","i","length","connection","makeLine","curved","$5e6f426dbd9c6992451fe8109ef5735b$var$animateLine","lineData","lineName","lines","name","entry","apiStopName","locationStop","properties","title","apiTowards","from","find","to","towards","index","findIndex","toUpperCase","$5e6f426dbd9c6992451fe8109ef5735b$var$getNextStation","time","xStep","Math","abs","yStep","moveCloser","speed","xMatch","yMatch","nextXStep","nextYStep","translation","set","update","setTimeout","$5e6f426dbd9c6992451fe8109ef5735b$var$animateTrain","Promise","all","Object","keys","map","fetch","then","res","json","catch","e","console","error","message","data","monitors","$f6dfaefb9e5b052f09219a53921da9fa$var$draw","scaledStations","clear","$f6dfaefb9e5b052f09219a53921da9fa$var$startTrainAnimations","$f6dfaefb9e5b052f09219a53921da9fa$var$scaleStations","scalingX","scalingY","push","$f6dfaefb9e5b052f09219a53921da9fa$var$stations","$f6dfaefb9e5b052f09219a53921da9fa$var$elem","document","getElementById","$f6dfaefb9e5b052f09219a53921da9fa$var$params","width","offsetWidth","height","offsetHeight","$f6dfaefb9e5b052f09219a53921da9fa$var$original","$f6dfaefb9e5b052f09219a53921da9fa$var$scalingX","$f6dfaefb9e5b052f09219a53921da9fa$var$scalingY","$f6dfaefb9e5b052f09219a53921da9fa$var$two","Two","appendTo","$f6dfaefb9e5b052f09219a53921da9fa$var$scaledStations","$f6dfaefb9e5b052f09219a53921da9fa$var$isDesktop","getComputedStyle","display","window","addEventListener","renderer","setSize"],"version":3,"file":"index.ec24cd31.js.map"}